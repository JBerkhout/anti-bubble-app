<mat-sidenav-container>
    <mat-sidenav #sidenav [autoFocus]="false">
        <mean-sidenav (sidenavClose)="sidenav.close()"></mean-sidenav>
    </mat-sidenav>
    <mat-sidenav-content>
        <mean-toolbar (sidenavToggle)="sidenav.toggle()"></mean-toolbar>
        <body>
            <div class="containerDiv" fxLayoutGap="10px" fxLayout="column" fxLayoutAlign="space-evenly">
                <div fxLayout.xs="row" fxLayoutGap="10px" fxLayoutAlign="space-evenly">
                    <mat-card fxFlex="100%">
                        <mat-card-header>
                            <mat-card-title class="welcomeHeader">Welkom!</mat-card-title>
                            <mat-card-subtitle>
                                Breaking Bubbles is een online webpagina waar leerlingen zich bewust kunnen worden van hun
                                filterbubbel.<br>
                                Dit wordt bereikt door middel van lessen die in de klas met de docent(e) worden afgenomen.
                            </mat-card-subtitle>
                        </mat-card-header>
                        <mat-card-content *ngIf="userDetails?.role == 'teacher'">
                            <a mat-flat-button (click)="createSession()" [ngClass]="{'my-custom-theme': true}" color="accent"> Kies Activiteit </a>
                        </mat-card-content>
                        <mat-card-content *ngIf="userDetails?.role == 'student' && userDetails?.bubbleInit">
                            <mat-form-field>
                                <input matInput [(ngModel)]="pin" placeholder="Sessie code"><br>
                            </mat-form-field>
                            <a mat-flat-button (click)="joinSession()" [ngClass]="{'my-custom-theme': true}" color="accent"> Deelnemen aan sessie </a>
                        </mat-card-content>
                        <mat-card-content *ngIf="userDetails?.role == 'student' && !userDetails?.bubbleInit">
                            <a mat-flat-button (click)="startLabyrinth()" [ngClass]="{'my-custom-theme': true}" color="accent"> Start Dwalende Doolhof </a>
                        </mat-card-content>
                    </mat-card>
                </div>
                <div fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign="space-evenly">
                    <mat-card fxFlex="40%">
                        <mat-card-header>
                            <mat-card-title>Klas updates</mat-card-title>
                        </mat-card-header>
                        <mat-card-content>
                            <table class="UItable">
                                <tr>
                                    <th>Per1</th>
                                    <td>Heeft spel X gespeeld!</td>
                                </tr>
                                <tr>
                                    <th>Per2</th>
                                    <td>Heeft 5 muntjes verdiend!</td>
                                </tr>
                                <tr>
                                    <th>Per3</th>
                                    <td>Heeft meegedaan aan de laatste klas sessie!</td>
                                </tr>
                            </table>
                        </mat-card-content>
                    </mat-card>
                    <mat-card fxFlex="40%">
                        <mat-card-header>
                            <mat-card-title>Scorebord</mat-card-title>
                        </mat-card-header>
                        <mat-card-content>
                            <table class="UItable">
                                <tr *ngFor="let milestone of userDetails?.recentMilestones; let i = index;">
                                    <td>{{userDetails?.recentMilestones[4 - i]}}</td>
                                </tr>
                            </table>
                        </mat-card-content>
                    </mat-card>
                    <mat-card fxFlex="20%" class="shop-card">
                        <mat-card-header>Aantal munten</mat-card-header>
                        <mat-card-content class="number">
                            {{ userDetails?.currency }}
                        </mat-card-content>
                        <a mat-flat-button [routerLink]="'/shop'"  [ngClass]="{'my-custom-theme': true}" color="primary">Ga naar winkel</a>
                    </mat-card>
                </div>
            </div>
        </body>
        <footer class="footer">
            <p> &copy; Utrecht University (ICS)</p>
        </footer>
    </mat-sidenav-content>
</mat-sidenav-container>
